From: Torge Matthies <openglfreak@googlemail.com>
Subject: [PATCH 3/3] powrprof: Add PowerSettingUnregisterNotification stub.
Message-Id: <20220227010235.276215-3-openglfreak@googlemail.com>
Date: Sun, 27 Feb 2022 02:02:35 +0100
In-Reply-To: <20220227010235.276215-1-openglfreak@googlemail.com>
References: <20220227010235.276215-1-openglfreak@googlemail.com>

Signed-off-by: Torge Matthies <openglfreak@googlemail.com>
---
 dlls/powrprof/powrprof.c    | 6 ++++++
 dlls/powrprof/powrprof.spec | 1 +
 include/powrprof.h          | 1 +
 3 files changed, 8 insertions(+)

diff --git a/dlls/powrprof/powrprof.c b/dlls/powrprof/powrprof.c
index 11111111111..11111111111 100644
--- a/dlls/powrprof/powrprof.c
+++ b/dlls/powrprof/powrprof.c
@@ -350,6 +350,12 @@ DWORD WINAPI PowerSettingRegisterNotification(const GUID *setting, DWORD flags,
     return ERROR_SUCCESS;
 }
 
+DWORD WINAPI PowerSettingUnregisterNotification(HPOWERNOTIFY handle)
+{
+    FIXME("(%p) stub!\n", handle);
+    return ERROR_SUCCESS;
+}
+
 BOOL WINAPI DllMain(HINSTANCE hinstDLL, DWORD fdwReason, LPVOID lpvReserved)
 {
    switch(fdwReason) {
diff --git a/dlls/powrprof/powrprof.spec b/dlls/powrprof/powrprof.spec
index 11111111111..11111111111 100644
--- a/dlls/powrprof/powrprof.spec
+++ b/dlls/powrprof/powrprof.spec
@@ -20,6 +20,7 @@
 @ stdcall PowerRegisterSuspendResumeNotification(long ptr ptr)
 @ stdcall PowerUnregisterSuspendResumeNotification(ptr)
 @ stdcall PowerSettingRegisterNotification(ptr long ptr ptr)
+@ stdcall PowerSettingUnregisterNotification(ptr)
 @ stdcall ReadGlobalPwrPolicy (ptr)
 @ stdcall ReadProcessorPwrScheme (long ptr)
 @ stdcall ReadPwrScheme (long ptr)
diff --git a/include/powrprof.h b/include/powrprof.h
index 11111111111..11111111111 100644
--- a/include/powrprof.h
+++ b/include/powrprof.h
@@ -163,6 +163,7 @@ DWORD   WINAPI PowerEnumerate(HKEY, const GUID *, const GUID *, POWER_DATA_ACCES
 DWORD   WINAPI PowerRegisterSuspendResumeNotification(DWORD, HANDLE, PHPOWERNOTIFY);
 DWORD   WINAPI PowerUnregisterSuspendResumeNotification(HPOWERNOTIFY);
 DWORD   WINAPI PowerSettingRegisterNotification(const GUID *, DWORD, HANDLE, PHPOWERNOTIFY);
+DWORD   WINAPI PowerSettingUnregisterNotification(HPOWERNOTIFY);
 BOOLEAN WINAPI ReadGlobalPwrPolicy(PGLOBAL_POWER_POLICY);
 BOOLEAN WINAPI ReadProcessorPwrScheme(UINT, PMACHINE_PROCESSOR_POWER_POLICY);
 BOOLEAN WINAPI ReadPwrScheme(UINT, PPOWER_POLICY);

-- 
2.35.1

