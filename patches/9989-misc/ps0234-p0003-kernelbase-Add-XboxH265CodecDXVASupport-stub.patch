From: Mohamad Al-Jaf <mohamadaljaf@gmail.com>
Subject: [PATCH 3/4] kernelbase: Add XboxH265CodecDXVASupport stub.
Message-Id: <20211126091906.443008-3-mohamadaljaf@gmail.com>
Date: Fri, 26 Nov 2021 04:19:05 -0500
In-Reply-To: <20211126091906.443008-1-mohamadaljaf@gmail.com>
References: <20211126091906.443008-1-mohamadaljaf@gmail.com>

Required by Windows 10 msmpeg2vdec.dll.

Signed-off-by: Mohamad Al-Jaf <mohamadaljaf@gmail.com>
---
 dlls/kernelbase/kernelbase.spec | 1 +
 dlls/kernelbase/main.c          | 9 +++++++++
 2 files changed, 10 insertions(+)

diff --git a/dlls/kernelbase/kernelbase.spec b/dlls/kernelbase/kernelbase.spec
index e5924495f01..6fd8ac0638e 100644
--- a/dlls/kernelbase/kernelbase.spec
+++ b/dlls/kernelbase/kernelbase.spec
@@ -1740,6 +1740,7 @@
 @ stdcall WriteProcessMemory(long ptr ptr long ptr)
 # @ stub WriteStateAtomValue
 # @ stub WriteStateContainerValue
+@ stdcall XboxH265CodecDXVASupport(ptr)
 @ stdcall ZombifyActCtx(ptr)
 # @ stub _AddMUIStringToCache
 # @ stub _GetMUIStringFromCache
diff --git a/dlls/kernelbase/main.c b/dlls/kernelbase/main.c
index 86e1494d2ae..7700a654a6e 100644
--- a/dlls/kernelbase/main.c
+++ b/dlls/kernelbase/main.c
@@ -250,6 +250,15 @@ BOOL WINAPI VideoCodecsXboxFeaturesEnabled(void *arg)
     return FALSE;
 }
 
+/***********************************************************************
+ *           XboxH265CodecDXVASupport   (KERNELBASE.@)
+ */
+BOOL WINAPI XboxH265CodecDXVASupport(void *arg)
+{
+    FIXME("(%p): stub\n", arg);
+    return FALSE;
+}
+
 HRESULT WINAPI QISearch(void *base, const QITAB *table, REFIID riid, void **obj)
 {
     const QITAB *ptr;

-- 
2.34.1

