From: Haoyang Chen <chenhaoyang@uniontech.com>
Subject: [PATCH] gdiplus: Avoid filtering of special characters.
Message-Id: <20210512093006.16553-1-chenhaoyang@uniontech.com>
Date: Wed, 12 May 2021 17:30:06 +0800

Symbols such as ‚Üê  should also be displayed.

Signed-off-by: Haoyang Chen <chenhaoyang@uniontech.com>
---
 dlls/gdiplus/graphics.c | 3 ---
 1 file changed, 3 deletions(-)

diff --git a/dlls/gdiplus/graphics.c b/dlls/gdiplus/graphics.c
index df4a89e8294..4a428c49869 100644
--- a/dlls/gdiplus/graphics.c
+++ b/dlls/gdiplus/graphics.c
@@ -5229,9 +5229,6 @@ GpStatus gdip_format_string(HDC hdc,
     hotkeyprefix_count = 0;
 
     for(i = 0, j = 0; i < length; i++){
-        /* FIXME: This makes the indexes passed to callback inaccurate. */
-        if(!iswprint(string[i]) && (string[i] != '\n'))
-            continue;
 
         /* FIXME: tabs should be handled using tabstops from stringformat */
         if (string[i] == '\t')

-- 
2.20.1

