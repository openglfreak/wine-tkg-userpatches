From 36765af39caaa1cacc7c3f0f52f3ebb8f91096d4 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?R=C3=A9mi=20Bernon?= <rbernon@codeweavers.com>
Date: Wed, 10 Mar 2021 11:31:16 +0100
Subject: [PATCH 07/14] ntdll/tests: Dump the user shared data time-related
 fields.

---
 dlls/ntdll/tests/time.c | 26 ++++++++++++++++++++++++++
 1 file changed, 26 insertions(+)

diff --git a/dlls/ntdll/tests/time.c b/dlls/ntdll/tests/time.c
index 232d07a3724..7b6c09660b6 100644
--- a/dlls/ntdll/tests/time.c
+++ b/dlls/ntdll/tests/time.c
@@ -308,6 +308,32 @@ static void test_user_shared_data_time(void)
     ULONGLONG t1, t2, t3;
     int i = 0;
 
+    trace("BaselineInterruptTimeQpc: %I64u\n", user_shared_data->BaselineInterruptTimeQpc);
+    trace("BaselineSystemTimeQpc: %I64u\n", user_shared_data->BaselineSystemTimeQpc);
+    trace("InterruptTime %d %d %u\n", user_shared_data->InterruptTime.High2Time, user_shared_data->InterruptTime.High1Time, user_shared_data->InterruptTime.LowPart);
+    trace("InterruptTimeBias: %I64u\n", user_shared_data->InterruptTimeBias);
+    trace("LastSystemRITEventTickCount: %u\n", user_shared_data->LastSystemRITEventTickCount);
+    trace("QpcBias: %I64u\n", user_shared_data->QpcBias);
+    trace("QpcBypassEnabled: %x\n", user_shared_data->u3.s.QpcBypassEnabled);
+    trace("QpcFrequency: %I64d\n", user_shared_data->QpcFrequency);
+    trace("QpcInterruptTimeIncrement: %I64u\n", user_shared_data->QpcInterruptTimeIncrement);
+    trace("QpcInterruptTimeIncrementShift: %d\n", user_shared_data->QpcInterruptTimeIncrementShift);
+    trace("QpcShift: %d\n", user_shared_data->u3.s.QpcShift);
+    trace("QpcSystemTimeIncrement: %I64u\n", user_shared_data->QpcSystemTimeIncrement);
+    trace("QpcSystemTimeIncrementShift: %d\n", user_shared_data->QpcSystemTimeIncrementShift);
+    trace("SystemTime %d %d %u\n", user_shared_data->SystemTime.High2Time, user_shared_data->SystemTime.High1Time, user_shared_data->SystemTime.LowPart);
+    trace("TickCount %d %d %u\n", user_shared_data->u.TickCount.High2Time, user_shared_data->u.TickCount.High1Time, user_shared_data->u.TickCount.LowPart);
+    trace("TickCountLowDeprecated: %u\n", user_shared_data->TickCountLowDeprecated);
+    trace("TickCountMultiplier: %u\n", user_shared_data->TickCountMultiplier);
+    trace("TickCountQuad: %I64u\n", user_shared_data->u.TickCountQuad);
+    trace("TimeSlip: %u\n", user_shared_data->TimeSlip);
+    trace("TimeUpdateLock: %I64u\n", user_shared_data->TimeUpdateLock);
+    trace("TimeZoneBias %d %d %u\n", user_shared_data->TimeZoneBias.High2Time, user_shared_data->TimeZoneBias.High1Time, user_shared_data->TimeZoneBias.LowPart);
+    trace("TimeZoneBiasEffectiveEnd: %I64d\n", user_shared_data->TimeZoneBiasEffectiveEnd.QuadPart);
+    trace("TimeZoneBiasEffectiveStart: %I64d\n", user_shared_data->TimeZoneBiasEffectiveStart.QuadPart);
+    trace("TimeZoneBiasStamp: %u\n", user_shared_data->TimeZoneBiasStamp);
+    trace("TimeZoneId: %u\n", user_shared_data->TimeZoneId);
+
     i = 0;
     do
     {
-- 
2.30.2

