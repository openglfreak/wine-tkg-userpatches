From: Mohamad Al-Jaf <mohamadaljaf@gmail.com>
Subject: [PATCH 4/4] ext-ms-mf-pal-l2-1-0: Add new dll.
Message-Id: <20211126091906.443008-4-mohamadaljaf@gmail.com>
Date: Fri, 26 Nov 2021 04:19:06 -0500
In-Reply-To: <20211126091906.443008-1-mohamadaljaf@gmail.com>
References: <20211126091906.443008-1-mohamadaljaf@gmail.com>

Enable Windows 10 msmpeg2vdec.dll to run.
Chromium Embedded Framework is used by some applications
to display videos and requires msmpeg2vdec.dll.

Signed-off-by: Mohamad Al-Jaf <mohamadaljaf@gmail.com>
---
 configure                                           | 2 ++
 configure.ac                                        | 1 +
 dlls/ext-ms-mf-pal-l2-1-0/Makefile.in               | 1 +
 dlls/ext-ms-mf-pal-l2-1-0/ext-ms-mf-pal-l2-1-0.spec | 2 ++
 4 files changed, 6 insertions(+)
 create mode 100644 dlls/ext-ms-mf-pal-l2-1-0/Makefile.in
 create mode 100644 dlls/ext-ms-mf-pal-l2-1-0/ext-ms-mf-pal-l2-1-0.spec

diff --git a/configure b/configure
index 49b66b76ae9..6afa2197736 100755
--- a/configure
+++ b/configure
@@ -1341,6 +1341,7 @@ enable_dxva2
 enable_esent
 enable_evr
 enable_explorerframe
+enable_ext_ms_mf_pal_l2_1_0
 enable_ext_ms_win_appmodel_usercontext_l1_1_0
 enable_ext_ms_win_authz_context_l1_1_0
 enable_ext_ms_win_domainjoin_netjoin_l1_1_0
@@ -22295,6 +22296,7 @@ wine_fn_config_makefile dlls/evr enable_evr
 wine_fn_config_makefile dlls/evr/tests enable_tests
 wine_fn_config_makefile dlls/explorerframe enable_explorerframe
 wine_fn_config_makefile dlls/explorerframe/tests enable_tests
+wine_fn_config_makefile dlls/ext-ms-mf-pal-l2-1-0 enable_ext_ms_mf_pal_l2_1_0
 wine_fn_config_makefile dlls/ext-ms-win-appmodel-usercontext-l1-1-0 enable_ext_ms_win_appmodel_usercontext_l1_1_0
 wine_fn_config_makefile dlls/ext-ms-win-authz-context-l1-1-0 enable_ext_ms_win_authz_context_l1_1_0
 wine_fn_config_makefile dlls/ext-ms-win-domainjoin-netjoin-l1-1-0 enable_ext_ms_win_domainjoin_netjoin_l1_1_0
diff --git a/configure.ac b/configure.ac
index 19d58d795c1..7289e8b8fac 100644
--- a/configure.ac
+++ b/configure.ac
@@ -2949,6 +2949,7 @@ WINE_CONFIG_MAKEFILE(dlls/evr)
 WINE_CONFIG_MAKEFILE(dlls/evr/tests)
 WINE_CONFIG_MAKEFILE(dlls/explorerframe)
 WINE_CONFIG_MAKEFILE(dlls/explorerframe/tests)
+WINE_CONFIG_MAKEFILE(dlls/ext-ms-mf-pal-l2-1-0)
 WINE_CONFIG_MAKEFILE(dlls/ext-ms-win-appmodel-usercontext-l1-1-0)
 WINE_CONFIG_MAKEFILE(dlls/ext-ms-win-authz-context-l1-1-0)
 WINE_CONFIG_MAKEFILE(dlls/ext-ms-win-domainjoin-netjoin-l1-1-0)
diff --git a/dlls/ext-ms-mf-pal-l2-1-0/Makefile.in b/dlls/ext-ms-mf-pal-l2-1-0/Makefile.in
new file mode 100644
index 00000000000..a3d9e17a044
--- /dev/null
+++ b/dlls/ext-ms-mf-pal-l2-1-0/Makefile.in
@@ -0,0 +1 @@
+MODULE    = ext-ms-mf-pal-l2-1-0.dll
diff --git a/dlls/ext-ms-mf-pal-l2-1-0/ext-ms-mf-pal-l2-1-0.spec b/dlls/ext-ms-mf-pal-l2-1-0/ext-ms-mf-pal-l2-1-0.spec
new file mode 100644
index 00000000000..31110c03197
--- /dev/null
+++ b/dlls/ext-ms-mf-pal-l2-1-0/ext-ms-mf-pal-l2-1-0.spec
@@ -0,0 +1,2 @@
+@ stdcall VideoCodecsXboxFeaturesEnabled(ptr) kernelbase.VideoCodecsXboxFeaturesEnabled
+@ stdcall XboxH265CodecDXVASupport(ptr) kernelbase.XboxH265CodecDXVASupport

-- 
2.35.1

