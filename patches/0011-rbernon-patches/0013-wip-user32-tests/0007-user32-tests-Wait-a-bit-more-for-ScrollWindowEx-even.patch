From c99f24fc7b3a10b06041a869b6467452ba704e41 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?R=C3=A9mi=20Bernon?= <rbernon@codeweavers.com>
Date: Tue, 12 Nov 2019 14:52:37 +0100
Subject: [PATCH 07/16] user32/tests: Wait a bit more for ScrollWindowEx
 events.

It sometimes fails with an empty sequence on w2003std.

  https://testbot.winehq.org/JobDetails.pl?Key=59878#k102
---
 dlls/user32/tests/msg.c | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/dlls/user32/tests/msg.c b/dlls/user32/tests/msg.c
index 11111111111..11111111111 100644
--- a/dlls/user32/tests/msg.c
+++ b/dlls/user32/tests/msg.c
@@ -11742,6 +11742,7 @@ static void test_scrollwindowex(void)
     ok_sequence(WmEmptySeq, "ScrollWindowEx", FALSE);
     trace("end scroll\n");
     flush_sequence();
+    MsgWaitForMultipleObjects( 0, NULL, FALSE, 1000, QS_ALLINPUT );
     flush_events();
     ok_sequence(ScrollWindowPaint1, "ScrollWindowEx", FALSE);
     flush_events();
@@ -11753,6 +11754,7 @@ static void test_scrollwindowex(void)
     ok_sequence(WmEmptySeq, "ScrollWindowEx", FALSE);
     trace("end scroll\n");
     flush_sequence();
+    MsgWaitForMultipleObjects( 0, NULL, FALSE, 1000, QS_ALLINPUT );
     flush_events();
     ok_sequence(ScrollWindowPaint2, "ScrollWindowEx", FALSE);
     flush_events();
@@ -11767,6 +11769,7 @@ static void test_scrollwindowex(void)
     ok_sequence(WmEmptySeq, "ScrollWindowEx", TRUE);
     trace("end scroll\n");
     flush_sequence();
+    MsgWaitForMultipleObjects( 0, NULL, FALSE, 1000, QS_ALLINPUT );
     flush_events();
     ok_sequence(ScrollWindowPaint1, "ScrollWindowEx", FALSE);
     flush_events();
@@ -11777,6 +11780,7 @@ static void test_scrollwindowex(void)
     ScrollWindow( hwnd, 5, 5, NULL, NULL);
     trace("end scroll\n");
     flush_sequence();
+    MsgWaitForMultipleObjects( 0, NULL, FALSE, 1000, QS_ALLINPUT );
     flush_events();
     ok_sequence(ScrollWindowPaint1, "ScrollWindow", FALSE);
 
-- 
2.36.0

